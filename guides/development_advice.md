# 開発を進める上でのアドバイス

# AI
素晴らしい時代なので、AIに「これなに？」って聞いたら大体教えてくれます。  
でもコードを"コピペだけ"して中身を理解しないのは後々地獄を見るのでやめておいたほうがいいと思います。

## コードを読む際のポイント

### 1. MVCの処理フローを追う
1. **Controller（Servlet）**: リクエストを受け取る入口
2. **Service**: ビジネスロジックを実行
3. **DAO**: データベースアクセス
4. **View（JSP）**: レスポンスを返す

シーケンス図を見ながら、どのような流れになっているかを理解しましょう。  
例えば、投稿作成の流れは：
`PostNewServlet.java` → `PostService.java` → `PostDAO.java` → `post_new.jsp`

### 2. Filterの役割を理解する
`filter/` パッケージのクラスは、すべてのリクエストに対して実行されます：
- `LoginFilter`: 認証チェック
- `SuspendedUserFilter`: アカウント停止チェック
- `AdminFilter`: 管理者権限チェック

### 3. エラーハンドリングの統一
`ErrorCode.java` でエラーメッセージを一元管理しています。
新しいエラーを追加する場合もここに追加してください。

## つまづきやすいポイント

### ポイント1: .env ファイルの配置場所
`.env` ファイルは**プロジェクトルート**に配置してください。
`src/` 内ではありません。

また、Eclipseを使用した際の環境変数の設定には[こんなやり方](https://zenn.dev/no215/scraps/f46c69ecc99873)もあります。
(こっちのほうが楽かも)

### ポイント2: OAuth 2.0のリダイレクトURI
Google Cloud Consoleで設定するリダイレクトURIは、**必ず** `/Login` で終わる必要があります：
```
http://localhost:8080/OICareerLog/Login
```

### ポイント3: Tomcatのコンテキストパス
ブラウザでアクセスする際のURLは `http://localhost:8080/OICareerLog` です。
`web.xml` の `<display-name>` で設定されています。

## 機能追加をするときは

### 新しい画面を追加したい場合
1. `controller/` に新しいServletを作成
2. `@WebServlet("/YourPath")` でURLを設定
3. `WEB-INF/views/` にJSPファイルを作成
4. 必要に応じて `service/`, `dao/` にロジックを実装

### データベースに新しいテーブルを追加したい場合
1. `docs/SETUP_DATABASE.sql` にCREATE TABLE文を追加
2. `entity/` に対応するDTOクラスを作成
3. `dao/` にDAOクラスを作成

# 学校

あとはせっかく先生方に話を聞ける環境なので、活用させてもらいましょう。  
授業をしっかり聞いておけば、このアプリケーションの95%は理解できるはずです。取り残されていても、全然どうにかなると思うので頑張って。  
恐らくすべての授業の技術スタックを活用していますが、特にFR先生の授業は何を作ろうにもオブジェクト指向開発をしている限り中心になってくると思うので、難しいですがしがみついておいてください。
頭がすごくよさそう(事実よい)で、~~最初は怖いと思う人もいるかもしれないですが~~すごく優しい人なので質問したら優しく教えてくれます。  
当然ほかの先生の授業も大事です。高時給のバイトだと思って頑張ってください。  

偉そう語ってますが職業エンジニアに比べたら僕もまだまだみんなと大差ない赤ちゃんなので一緒に頑張りましょう。

---
[トップページに戻る](https://github.com/KuwadaKohei/OICareerLog)


